---
title : "CIRCULATION"
format: html
execute:
  enabled: true
---

Voila une video représentant la circulation le 01-09-2024 :

![video velomag](../../code/video/montpelliervelo0901.gif)


<!-- Conteneur pour l'animation -->
<div id="bike-animation">
  <img src="../bike.png" alt="Vélo" style="width: 100%;">
</div>

<script>
// Fonction pour jouer l'animation
function playBikeAnimation(callback) {
  const bike = document.getElementById("bike-animation");

  // Réinitialise l'état de l'animation
  bike.classList.remove("bike-active");
  void bike.offsetWidth; // Force le recalcul du style
  bike.classList.add("bike-active");

  // Exécute la fonction callback après 1,5 seconde (durée de l'animation)
  setTimeout(() => {
    bike.classList.remove("bike-active");
    if (callback) callback();
  }, 1500); // Durée de l'animation
}

// Gestion des clics sur la navbar
document.querySelectorAll(".navbar a").forEach((link) => {
  link.addEventListener("click", (e) => {
    e.preventDefault(); // Bloque la navigation immédiate

    const href = link.href; // Récupère le lien cible
    playBikeAnimation(() => {
      // Redirige après l'animation
      window.location.href = href;
    });
  });
});
</script>
